import Head from "next/head";
import type { NextPage } from "next";
import { useState } from "react";
import tempContent from "../tempContent.json";
import { Container, Box, Grid } from "@mui/material";
import PresentationModal from "../../components/about/PresentationModal";
import PresentationCard from "../../components/about/PresentationCard";
import { motion } from "framer-motion";
import { fadeInUp } from "../../animations/constants";
import { Styrare } from "../../utils/types";
import ImageWithSummary from "../../components/general/ImageWithSummary";
import GruppBild from "../../assets/gruppbild.jpg"
import WavyBackground from "../../components/general/WavyBackground";

// export default function PresentationPage() {
const PresentationPage: NextPage = () => {
  const styrare: Styrare[] = tempContent.styrareContent;
  console.log(styrare);
  const [modalOpen, setModalOpen] = useState<boolean>(false);
  const [activeUser, setActiveUser] = useState<number>(0);

  function handleUserClick(index: number) {
    setActiveUser(index);
    setModalOpen(true);
  }

  return (
    <motion.div exit={{ opacity: 0 }} initial="initial" animate="animate">
      <Head>
        <title>Medieteknik.nu | Sektionen</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      {/* Styrelsen */}

      {/* Mette & #3Cant */}

      <WavyBackground bgColor="#EC6610" textColor="#13283c">
        <Container sx={{ paddingTop: "80px"}}>
          <ImageWithSummary 
            direction="row-reverse"
            imageSrc={GruppBild} 
            title="3Cant" 
            text="In sodales turpis ut erat luctus, et cursus tellus imperdiet. Integer ac vehicula augue. Sed in turpis odio. Morbi sed dolor sed nibh molestie viverra at quis metus. Suspendisse vehicula eleifend eros."
            link="https://www.3cant.com/"
          />
          <ImageWithSummary 
            direction="row"
            imageSrc={GruppBild} 
            title="METTE" 
            text="Morbi rutrum quis odio eu facilisis. Etiam lectus lacus, dapibus vitae dolor vitae, vulputate accumsan ante. Maecenas sodales velit dui, consectetur commodo sapien egestas vitae. Sed a rutrum arcu."
            link="temp"
          />
        </Container>
      </WavyBackground>

      {/* Styrelse-Grid*/}

      <Grid container sx={{ maxWidth: "1200px", margin: "auto", padding: "50px 0"}}
      >
        {styrare.map((styr, index) => (
          <Grid item xs={6} md={3} key={index} sx={{ p: "20px", height: "100%" }}>
            <motion.div
              whileHover={{ scale: 1.05 }}
              whileTap={{ scale: 0.95 }}
              variants={fadeInUp}
            >
              <PresentationCard
                user={styr}
                openInfo={() => handleUserClick(index)}
              />
            </motion.div>
          </Grid>
        ))}
      </Grid>

      {modalOpen && (
        <PresentationModal
          open={modalOpen}
          handleClose={() => setModalOpen(false)}
          user={styrare[activeUser]}
        />
      )}
    </motion.div>
  );
};

export default PresentationPage;
